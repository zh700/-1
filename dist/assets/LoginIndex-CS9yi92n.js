import{d as C,r as N,u as q,a as p,c as B,b as o,w as s,e as a,f as E,g as F,o as I,h as c,i as _,j as L,l as U,k as $,E as f,_ as h}from"./index-kmnJ3fi5.js";import{g as H}from"./time-C1Jd-w4B.js";const R={class:"login_container"},S=C({__name:"LoginIndex",setup(T){const t=N({username:"admin",password:"111111"}),g=q(),x=E(),w=F(),n=p(!1),v=async()=>{await i.value.validate(),n.value=!0;try{await g.userLogin(t);const l=w.query.redirect;x.push({path:l||"/"}),f({type:"success",message:"欢迎回来！",title:`Hi,${H()}`}),n.value=!1}catch(l){n.value=!1,f({type:"error",message:l.message})}},y={username:[{required:!0,min:5,max:12,message:"账号长度至少为5位",trigger:"change"}],password:[{required:!0,min:5,max:15,message:"密码长度至少为5位",trigger:"change"}]},i=p();return(l,e)=>{const m=a("el-col"),d=a("el-input"),r=a("el-form-item"),V=a("el-button"),b=a("el-form"),k=a("el-row");return I(),B("div",R,[o(k,null,{default:s(()=>[o(m,{span:12,xs:0}),o(m,{span:12,xs:24},{default:s(()=>[o(b,{class:"login_form",model:t,rules:y,ref_key:"loginForms",ref:i},{default:s(()=>[e[3]||(e[3]=c("h1",null,"Hello",-1)),e[4]||(e[4]=c("h2",null,"欢迎来到井冈山大学",-1)),o(r,{class:"login_form_item",prop:"username"},{default:s(()=>[o(d,{"prefix-icon":_(L),modelValue:t.username,"onUpdate:modelValue":e[0]||(e[0]=u=>t.username=u)},null,8,["prefix-icon","modelValue"])]),_:1}),o(r,{prop:"password"},{default:s(()=>[o(d,{type:"password","prefix-icon":_(U),modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=u=>t.password=u),"show-password":""},null,8,["prefix-icon","modelValue"])]),_:1}),o(r,null,{default:s(()=>[o(V,{loading:n.value,class:"login_btn",type:"primary",size:"default",onClick:v},{default:s(()=>e[2]||(e[2]=[$("登录")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})])}}}),A=h(S,[["__scopeId","data-v-b6b5d766"]]);export{A as default};
